---
title: "Technical Applications & Data Analytics"
output:
  html_document:
    code_folding: show
    theme:
      bg: '#202123'
      fg: '#B8BCC2'
      primary: '#EA80FC'
      secondary: '#00DAC6'
      base_font:
        google: Prompt
      heading_font:
        google: Proza Libre
  printcode:
    printcode: null
    label: 'Display Source-Code:'
    value: yes
---

```{r setup, include=FALSE}
if (requireNamespace("thematic")) 
  thematic::thematic_rmd(font = "auto")
library(knitr)
library(ourdata)
header <- "Kirchenaustritte"
```

## R Markdown

Dies ist ein `R Markdown` Dokument. In einem Markdown Dokument kann man `Text` und `Code` `Diagramme` darstellen, `Code` ausführen und `Diagramme`zeichnen lassen. So kann man komplexe Auswertungen ansprechend, visuell und interaktiv gestalten und darüber hinaus die verwendete `R-Syntax` oder den `Python-Code` bereitstellen um auch nach einiger Zeit noch auf die Code und die Auswertungen zurückgreifen zu können und diese zu verstehen.

Ein `R- Markdown`Dokument kann als Word oder PDF Datei exportiert werden, sowie interaktiv als HTML Dokument erstellt werden. Mehrere Seiten umfassende Auswertungen kann man als eBook publizieren.

## R-Paket `ourdata`

Das R-Paket `ourdata` enthält folgende Daten:

<ul>
<li>`fragebogen` Kopfumfang und andere Merkmale aus dem GD- und AVM-Kurs</li>
<li>`hdi` Weltweiter Index der menschlichen Entwicklung</li>
<li>`imr` Säuglingssterblichkeitsraten weltwei</li>
<li>`kirche` Kirchenaustritte in Deutschland von 2017 bis 2020</li>
<li>`Koelsch` Konsum von Kölsch von 2017 bis 2020</li>
</ul>

... und diese Funktionen:

<ul>
<li>`combine(x, y, ...)` Kombiniert zwei Datensätze mit ID und Fremdschlüsselabgleich.</li>
<li>`ourdata()` Druckt eine Willkommensnachricht aus.</li>
<li>`plotter(...)` Zeichnet interaktiv mit variablen Daten verschiedene Diagramme.</li>
<li>`transformer(x, ...)` Transformiert Werte vom Typ char in numerische Werte,<br />z.B. `female` zu `1`, `male` zu `2` 
und `divers` zu `3`.</li>
<li>`translate(x, target_lang)` Übersetzt Text in die Zielsprache mit der DeepL API.</li>
</ul>

Mit der Funktion `help()` kannst Du Dir Hilfeseiten zu allen Datensätzen oder Fuktionen anzeigen lassen. Z.B. `help(plotter)` erklärt die Funktonsweise von der Funktion `plotter()`.

Viel Spaß!

## Diagramme {.tabset .tabset-pills}

In `R` / `RStudio` kann man verschiedene Diagramm-Typen zum Visualisieren verwenden (siehe Funktion `plottter()`). Hier eine Auswahl davon, mit dem dazugehörigen Code:

### Balkendiagramm

```{r, Balkendiagramm, fig.height=4, fig.showtext = TRUE, results = 'hide'}
barplot(kirche$Austritte, koelsch$Koelsch, main = header)
```

### Box-Diagramm

```{r, Box-Diagramm, results='hide', fig.height=4, fig.showtext = TRUE, error = FALSE, warning = FALSE, message = FALSE}
boxplot(kirche$Austritte, koelsch$Koelsch, main = header)
```

### Dichtediagramm

```{r}
kirche
```

### Heatmap

```{r}
koelsch
```

### Histogramm

```{r, code = readLines(system.file("extdata", "translate.R", package = "ourdata", mustWork = FALSE)), results = 'show'}
```

### Linien-Diagramm

```{r}
plot(pressure, col = thematic::thematic_get_option("accent"))
```

### Qqplot

```{r}
plot(pressure, col = thematic::thematic_get_option("accent"))
```

### Streudiagramm

```{r}
plot(pressure, col = thematic::thematic_get_option("accent"))
```

### Venn-Diagramm

```{r}
plot(pressure, col = thematic::thematic_get_option("accent"))
```

### DeepL Übersetzung

```{python, echo = FALSE, error = FALSE, warning = FALSE, message = FALSE}
import deepl

translator = deepl.Translator("c52a9c7d-3198-063c-2bbf-8f67173820ce:fx")
result = translator.translate_text("This is a test!", target_lang="RU") 
print(result)
```

### DeepL R-Code

```{r, deepLRCode, code = readLines(system.file("extdata", "translate.R", package = "ourdata", mustWork = FALSE))}
```

### DeepL Python-Code

```{python, DeepLPythonCode, code = readLines(system.file("extdata", "py_deepl.py", package = "ourdata", mustWork = FALSE))}
```

### Ext. Code ausführen

```{r, ExtCode, echo = FALSE, fig.showtext = TRUE, error = FALSE, warning = FALSE, message = FALSE}
read_chunk(system.file("extdata", "example.R", package = "ourdata", mustWork = FALSE))
```
```{r variablesXY}
```
```{r plotXY}
```
